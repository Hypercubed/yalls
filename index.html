<!doctype html>
<html>
<body>
INPUT:
<pre id="input">
[[[
	large block comment
]]]

# hellp
a = 1
c, d = 2, 3
print('set ok', a, c, d)
d, c = c, d
print('swap ok', c, d)

# function calls
func f(a)
	print('func ok', a)
end
f(10)
f2 = func(a)
	func p()
		return a * a
	end
	print('lambda ok', p())
end
f2(10)

# table
e = { 1, 2, 3, k = 'dict get ok' }
print('dict ok', e)
k = 'k'
print(e[k])
print(e.k)
print(e['k'])
e.k = 'dict set ok'
print(e.k)

# if statements
if 1 > 0 then
	print('if ok')
end
if 0 > 0 then
	print('else ok1')
else
	print('else ok2')
end
if 0 > 0 then
	print('elseif ok1')
elseif 0 > 0 then
	print('elseif ok2')
else
	print('elseif ok3')
end

# for statements
print('for from 0~4')
for i = range(5) do
	print(i)
end
print('for from 1~4')
for i = 1, 5 do
	print(i)
end
print('for with 1, 3')
for i = 1, 2, 5 do
	print(i)
end
print('for in dict')
for v, k = pair({ ['ok']='for loop', 'hi' }) do
	print('  ', v, ': ', k)
end

</pre>

TOKENS:
<pre id="tokens">
</pre>

PARSE TREE:
<pre id="tree">
</pre>

RESULT:
<div id="result">
</div>

<script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.6.15/browser-polyfill.min.js"></script>
<script src="node_modules/yajily/build/lexer.js"></script>
<script src="node_modules/yajily/build/parser.js"></script>
<script src="build/interpreter.js"></script>
<script src="build/index.js"></script>
</body>
</html>